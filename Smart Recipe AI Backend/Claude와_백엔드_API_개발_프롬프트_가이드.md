# Claude와 백엔드 API 개발하기 - 효과적인 프롬프트 작성법

## 🎯 효과적인 개발 의뢰 프롬프트 작성법

### ❌ 나쁜 프롬프트 예시:
```
"레시피 검색 API 만들어줘"
```

### ✅ 좋은 프롬프트 예시:

```markdown
# 🍽️ AI 레시피 검색 백엔드 API 개발 요청

## 📋 프로젝트 개요
- **목적**: 개인 알레르기 프로필 기반 안전한 레시피 추천 시스템
- **기간**: 4일 MVP (포트폴리오용)
- **기술스택**: NestJS + TypeScript + Elasticsearch + MongoDB + Ollama

## 🎯 핵심 요구사항

### 1. API 엔드포인트

POST /api/recipe/search
GET /api/recipe/detail/:id  
POST /api/recipe/chat

### 2. 데이터 구조
- **입력**: `{ query: "파스타", language?: "ko" }`
- **출력**: 
```json
{
  "originalQuery": "파스타",
  "translatedQuery": "pasta", 
  "recipes": [{ id, name, description, minutes, ingredients... }],
  "explanation": "AI가 생성한 친근한 추천 설명",
  "cookingTips": ["팁1", "팁2", "팁3"]
}
```

### 3. AI 기능 요구사항
- 한국어 요청을 영어로 번역
- Elasticsearch로 레시피 검색
- Ollama(로컬 LLM)로 개인화된 설명 생성
- 조리 시간 기반 타이머 정보 추출

### 4. 기술적 제약사항
- **데이터**: 267,782개 레시피 CSV + 15,244개 알레르기 정보
- **인프라**: Docker Compose 환경
- **AI 모델**: Qwen2.5 0.5B, Llama3.2 1B (로컬)
- **응답속도**: < 3초 목표

## 🔧 구현해야 할 핵심 로직

### A. 검색 플로우
```
사용자 요청 → 언어감지/번역 → 검색어 확장 → Elasticsearch 검색 → AI 설명생성 → 응답
```

### B. 필요한 서비스들
1. **RAGService**: 검색 + AI 응답 총괄
2. **ElasticsearchService**: 레시피 검색
3. **OllamaService**: LLM 연동
4. **AllergyService**: 알레르기 체크 (향후)

### C. 데이터 처리
- CSV → Elasticsearch 인덱싱
- Python 리스트 문자열 파싱
- 조리 단계에서 시간 정보 추출
- 재료별 알레르기 매핑

## 📁 예상 파일 구조
```
src/
├── modules/
│   ├── recipe/
│   │   ├── recipe.controller.ts
│   │   ├── recipe.service.ts  
│   │   └── dto/
│   ├── rag/
│   │   └── rag.service.ts
│   └── elasticsearch/
│       └── elasticsearch.service.ts
```

## 🎨 원하는 사용자 경험
1. "간단한 파스타" 검색
2. 3초 내 응답
3. AI가 친근하게 설명: "바쁜 저녁에 딱! 20분이면 완성..."
4. 실용적 조리팁 3개 제공
5. 타이머 설정 가능한 단계별 안내

## ⚡ 우선순위
1. **HIGH**: 기본 검색 + AI 설명 기능
2. **MID**: 조리 타이머 정보 추출
3. **LOW**: 알레르기 체크 (다음 단계)

## 🔍 참고 정보
- 데이터 샘플: `mini_recipes.csv` (98개), `allergen_ultra_clean.csv` (15,244개)
- 환경: Docker, 포트 8080
- LLM: 로컬 Ollama 서버 (http://localhost:11434)

이렇게 구체적으로 정리해서 단계별로 구현해주세요. 각 단계마다 코드와 함께 설명도 부탁드립니다!
```

## 🚀 이런 프롬프트의 장점

### 1. **명확한 스코프**
- 정확히 무엇을 만들지 정의
- 기술 스택과 제약사항 명시
- 우선순위로 범위 조절

### 2. **구체적인 요구사항**
- API 명세서 수준의 상세함
- 입출력 데이터 구조 예시
- 성능 목표 수치 제시

### 3. **맥락 정보 제공**
- 프로젝트 배경과 목적
- 사용자 경험 시나리오
- 기존 환경과 데이터 설명

### 4. **실행 가능한 가이드**
- 파일 구조 제안
- 구현 플로우 설명
- 단계별 우선순위

## 🎯 결과적으로...

이렇게 상세한 프롬프트를 썼다면:
1. ✅ 한 번에 정확한 API 구조 생성
2. ✅ 불필요한 수정/재작업 최소화  
3. ✅ 원하는 기능과 정확히 일치
4. ✅ 확장 가능한 코드 구조
5. ✅ 실제 사용 가능한 완성도

**핵심은 Claude를 "개발 파트너"로 생각하고, 실제 개발자에게 업무 지시하듯 구체적이고 체계적으로 요청하는 것입니다!** 🚀

---

## 📝 추가 팁: 단계별 프롬프트 전략

### 1단계: 프로젝트 기획
"다음 요구사항으로 프로젝트 구조를 설계해주세요..."


### 2단계: 세부 구현

"위에서 설계한 구조를 바탕으로 [특정 모듈]을 구현해주세요..."


### 3단계: 테스트 및 검증

"구현된 코드에 대한 테스트 코드와 API 문서를 작성해주세요..."


### 4단계: 최적화 및 개선

"성능 최적화와 에러 처리를 개선해주세요..."


이렇게 단계적으로 접근하면 더 완성도 높은 결과를 얻을 수 있습니다! 🎯
