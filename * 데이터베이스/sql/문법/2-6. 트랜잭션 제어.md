# SQL 트랜잭션 제어
#Database/SQL #SQL/Advanced

## 6. 트랜잭션 제어 (Transaction Control)

> [!NOTE] Transaction
> 더 이상 쪼갤 수 없는 작업의 논리적 단위. 모든 작업이 성공하거나(COMMIT), 모두 실패해야(ROLLBACK) 합니다.

-   **트랜잭션 시작과 종료**
    ```sql
    START TRANSACTION;
        -- SQL 문장들
    COMMIT; -- 모든 변경사항 영구 저장
    -- 또는
    ROLLBACK; -- 모든 변경사항 취소
    ```
-   **`SAVEPOINT`**: 트랜잭션 내에 중간 저장점을 만들어, 전체 롤백 대신 특정 지점으로만 되돌릴 수 있습니다.
    ```sql
    START TRANSACTION;
        INSERT INTO table1 VALUES (1, 'a');
        SAVEPOINT sp1;
        INSERT INTO table1 VALUES (2, 'b');
        ROLLBACK TO sp1; -- (2, 'b') 삽입만 취소됨
    COMMIT;
    ```
-   **격리 수준 설정 (Isolation Level)**
    ```sql
    SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
    ```

---
> [[00. 데이터베이스 목차.md|⬆️ 목차로 돌아가기]]
> [[2-5. 고급 그룹화.md|⬅️ 이전: 고급 그룹화]] | [[3. 심화.md|➡️ 다음: SQL 심화 문법]]