# SQL 고급 쿼리 패턴
#Database/SQL #SQL/SpecialFeatures

## 6. 고급 쿼리 패턴

-   **계층적 쿼리 (Hierarchical Query)**: `WITH RECURSIVE`를 사용하여 조직도, 카테고리 등 계층 구조 데이터를 효과적으로 조회합니다.
-   **피벗 테이블 (Pivot Table)**: 행 데이터를 열 데이터로 전환하여 보고서나 통계를 만들기 용이한 형태로 데이터를 재구성합니다.
    ```sql
    -- category 값을 컬럼으로 전환하는 동적 피벗 테이블 예시
    SELECT
        date,
        MAX(CASE WHEN category = 'Electronics' THEN amount END) AS Electronics,
        MAX(CASE WHEN category = 'Books' THEN amount END) AS Books
    FROM sales
    GROUP BY date;
    ```

---
> [[00. 데이터베이스 목차.md|⬆️ 목차로 돌아가기]]
> [[4-5. 고급 인덱스 기능.md|⬅️ 이전: 고급 인덱스 기능]] | [[5. 최종고급.md|➡️ 다음: SQL 최종 고급 문법]]