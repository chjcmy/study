**ðŸ—ï¸ ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶•**

  

**ðŸ“Œ 1. main.dart êµ¬ì„± ë° ê¸°ë³¸ ë¼ìš°íŒ… ì„¤ì •**

  

Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì„¤ì •í•˜ê³ , í™”ë©´ ê°„ ì´ë™ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì´ˆê¸° ë¼ìš°íŒ…ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

  

**âœ¨ main.dart ê¸°ë³¸ êµ¬ì¡°**

```
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      initialRoute: '/',
      routes: {
        '/': (context) => const HomeScreen(),
        '/shopping': (context) => const ShoppingView(),
        '/product': (context) => const ProductView(),
        '/cart': (context) => const CartView(),
      },
    );
  }
}

class HomeScreen extends StatelessWidget {
  const HomeScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text("Home")),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: () => Navigator.pushNamed(context, '/shopping'),
              child: const Text("Go to Shopping"),
            ),
            ElevatedButton(
              onPressed: () => Navigator.pushNamed(context, '/product'),
              child: const Text("Go to Product"),
            ),
            ElevatedButton(
              onPressed: () => Navigator.pushNamed(context, '/cart'),
              child: const Text("Go to Cart"),
            ),
          ],
        ),
      ),
    );
  }
}
```

**ðŸ“ ì£¼ìš” êµ¬ì„± ìš”ì†Œ**

â€¢ **MaterialApp**: Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ ìœ„ì ¯

â€¢ **initialRoute**: ì•± ì‹¤í–‰ ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ í‘œì‹œí•  í™”ë©´ ì„¤ì • ('/')

â€¢ **routes**: í™”ë©´ ê°„ ì´ë™ì„ ìœ„í•´ ë“±ë¡ëœ ë¼ìš°íŠ¸ ë§¤í•‘

â€¢ **Navigator**: í™”ë©´ ê°„ ì´ë™ì„ ê´€ë¦¬í•˜ëŠ” API

**ðŸ“Œ 2. ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ ë“±ë¡**

  

ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ì—ì„œ ì‚¬ìš©í•  ì„œë¹„ìŠ¤ ë° ìƒíƒœ ê´€ë¦¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

  

**âœ¨ MultiRepositoryProvider ë° MultiBlocProvider ì„¤ì •**

```
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:provider/provider.dart';

void main() {
  runApp(
    MultiRepositoryProvider(
      providers: [
        RepositoryProvider(create: (context) => AuthService()),
        RepositoryProvider(create: (context) => CartRepository()),
      ],
      child: MultiBlocProvider(
        providers: [
          BlocProvider(create: (context) => AuthBloc(context.read<AuthService>())),
          BlocProvider(create: (context) => CartBloc(context.read<CartRepository>())),
        ],
        child: const MyApp(),
      ),
    ),
  );
}
```

**ðŸ“ ì£¼ìš” êµ¬ì„± ìš”ì†Œ**

â€¢ **MultiRepositoryProvider**: ì „ì—­ì—ì„œ ì‚¬ìš©í•  ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë“±ë¡

â€¢ **RepositoryProvider**: DI(ì˜ì¡´ì„± ì£¼ìž…)ë¥¼ ìœ„í•œ ê°œë³„ ë¦¬í¬ì§€í† ë¦¬ ì œê³µ

â€¢ **MultiBlocProvider**: ì „ì—­ ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ Bloc ë“±ë¡

â€¢ **BlocProvider**: Bloc(ìƒíƒœ ê´€ë¦¬) ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ì£¼ìž…

```mermaid
sequenceDiagram
    actor U as ì‚¬ìš©ìž
    participant V as ì‡¼í•‘ ë·°
    participant VM as ShoppingViewModel
    participant R as ProductRepository
    participant PV as ProductView
    participant CS as CartService
    participant CD as CartCheckoutDialog

    %% 1. ìƒí’ˆ ê²€ìƒ‰
    U->>V: ê²€ìƒ‰ì–´ "3" ìž…ë ¥
    V->>VM: OnSearchProductList ì´ë²¤íŠ¸ ì „ë‹¬
    VM->>R: ìƒí’ˆ ëª©ë¡ ìš”ì²­
    R-->>VM: ìƒí’ˆ ëª©ë¡ ë°˜í™˜
    VM-->>V: ìƒíƒœ ê°±ì‹ 
    V-->>U: ìƒí’ˆ ëª©ë¡ í‘œì‹œ

    %% 2. ìƒí’ˆ ìƒì„¸ë³´ê¸°
    U->>V: ìƒí’ˆ ì¹´ë“œ ì„ íƒ
    V->>PV: ìƒì„¸ í™”ë©´ ë¼ìš°íŒ… (ìƒí’ˆ ë°ì´í„° ì „ë‹¬)
    PV-->>U: ìƒí’ˆ ìƒì„¸ ì •ë³´ í‘œì‹œ (ì´ë¯¸ì§€, ì˜µì…˜ ë“±)

    %% 3. ìž¥ë°”êµ¬ë‹ˆ ì¶”ê°€
    U->>PV: ìƒ‰ìƒ/ìˆ˜ëŸ‰ ì„ íƒ í›„ "ì¹´íŠ¸ì— ë‹´ê¸°" í´ë¦­
    PV->>CS: CartItem ì¶”ê°€ ìš”ì²­
    CS-->>PV: ìž¥ë°”êµ¬ë‹ˆ ìƒíƒœ ì—…ë°ì´íŠ¸
    PV-->>U: ìž¥ë°”êµ¬ë‹ˆ ì¶”ê°€ í™•ì¸

    %% 4. ìž¥ë°”êµ¬ë‹ˆ ê´€ë¦¬
    U->>V: ìž¥ë°”êµ¬ë‹ˆ í™”ë©´ ì´ë™
    V->>CS: ìˆ˜ëŸ‰ ë³€ê²½/ì‚­ì œ ìš”ì²­
    CS-->>V: ìž¥ë°”êµ¬ë‹ˆ ìƒíƒœ ê°±ì‹ 
    V-->>U: ì—…ë°ì´íŠ¸ëœ ìž¥ë°”êµ¬ë‹ˆ í‘œì‹œ

    %% 5. ê²°ì œ
    U->>V: "ê²°ì œí•˜ê¸°" ë²„íŠ¼ í´ë¦­
    V->>CD: ê²°ì œ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
    CD-->>U: ê²°ì œ í™•ì¸ ìš”ì²­
    U->>CD: í™•ì¸ ë²„íŠ¼ í´ë¦­
    CD->>CS: ê²°ì œ ì²˜ë¦¬ ìš”ì²­
    CS-->>CD: ê²°ì œ ì„±ê³µ
    CD-->>U: ê²°ì œ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
```
```