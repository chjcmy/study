# 데이터 클래스 (Data Class)
#Kotlin/DataClass

> [!INFO] 데이터 클래스란?
> **데이터 클래스(Data Class)**는 오직 **데이터를 보관**하는 목적을 가진 클래스를 간결하게 표현하기 위해 코틀린에서 제공하는 특별한 클래스입니다. `data` 키워드를 붙여 선언합니다.

데이터 클래스를 사용하면, 컴파일러가 데이터 처리에 필수적인 여러 유용한 메소드들을 **자동으로 생성**해 주어, 자바에서 수많은 상용구 코드를 작성해야 했던 불편함을 해결해 줍니다.

## 1. 데이터 클래스 정의

-   `data class` 키워드를 사용합니다.
-   주 생성자는 반드시 하나 이상의 프로퍼티를 가져야 합니다.
-   모든 주 생성자의 파라미터는 `val` 또는 `var`로 선언되어야 합니다.

```kotlin
data class User(val name: String, val age: Int)
```

## 2. 자동으로 생성되는 메소드

`data` 키워드 하나만으로, 컴파일러는 주 생성자에 선언된 프로퍼티들을 기반으로 다음 메소드들을 자동으로 생성합니다.

### `equals()` / `hashCode()`
-   **`equals()`**: 객체의 참조가 아닌, **프로퍼티의 값**을 기반으로 동등성을 비교합니다.
-   **`hashCode()`**: 프로퍼티의 값을 기반으로 해시 코드를 생성합니다. `HashMap`이나 `HashSet` 등에서 올바르게 동작하도록 보장합니다.

```kotlin
val user1 = User("Alice", 25)
val user2 = User("Alice", 25)

println(user1 == user2) // 출력: true (내부적으로 equals() 호출)
```
> 일반 클래스는 프로퍼티 값이 같아도 참조가 다르면 `false`를 반환합니다.

### `toString()`
"클래스명(프로퍼티명=값, ...)" 형태의 읽기 좋은 문자열을 자동으로 생성합니다.
```kotlin
val user = User("Alice", 25)
println(user) // 출력: User(name=Alice, age=25)
```

### `copy()`
> [!TIP] 불변 객체를 쉽게 다루는 법
> `copy()` 메소드는 객체의 **불변성(Immutability)**을 유지하면서, 일부 프로퍼티만 변경된 새로운 객체를 쉽게 만들 수 있게 해줍니다.

```kotlin
val user1 = User("Alice", 25)

// age 프로퍼티만 변경된 새로운 User 객체를 생성
val user2 = user1.copy(age = 26)

println(user1) // 출력: User(name=Alice, age=25)
println(user2) // 출력: User(name=Alice, age=26)
```

### `componentN()` (구조 분해 선언)
`component1()`, `component2()` 등 프로퍼티 순서에 맞는 메소드가 자동으로 생성되어, **구조 분해 선언(Destructuring Declaration)**을 가능하게 합니다.

```kotlin
val user = User("Alice", 25)

// user 객체의 프로퍼티를 개별 변수로 분해하여 할당
val (name, age) = user

println("Name: $name, Age: $age") // 출력: Name: Alice, Age: 25
```

## 3. 데이터 클래스의 조건

-   주 생성자는 하나 이상의 파라미터를 가져야 합니다.
-   `abstract`, `open`, `sealed`, `inner` 클래스로 선언할 수 없습니다.
-   다른 클래스를 상속받을 수 없지만, 인터페이스는 구현할 수 있습니다.

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[5. 이넘.md|⬅️ 이전: 이넘 클래스]] | [[7. HashMap과 HashSet.md|➡️ 다음: HashMap과 HashSet]]