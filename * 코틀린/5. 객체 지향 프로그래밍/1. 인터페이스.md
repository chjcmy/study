# 인터페이스 (Interface)
#Kotlin/ObjectOriented #Kotlin/Interface

> [!INFO] 인터페이스란?
> **인터페이스(Interface)**는 특정 객체가 어떤 **행동(behavior)을 해야 하는지에 대한 '규약' 또는 '계약'**을 정의하는 것입니다. 인터페이스는 구현이 있는 메소드와 없는 메소드를 모두 포함할 수 있지만, 클래스와 달리 상태를 저장하기 위한 **백킹 필드(backing field)를 가질 수 없습니다.**

코틀린에서 클래스는 여러 개의 인터페이스를 구현(`implement`)할 수 있으며, 이를 통해 다중 상속의 효과를 얻을 수 있습니다.

## 1. 인터페이스 정의와 구현

-   `interface` 키워드를 사용하여 인터페이스를 정의합니다.
-   클래스는 콜론(`:`)을 사용하여 인터페이스를 구현합니다.
-   인터페이스에 정의된 추상(abstract) 프로퍼티나 함수는 반드시 구현 클래스에서 `override` 키워드로 재정의해야 합니다.

```kotlin
// '날 수 있는' 능력을 정의하는 인터페이스
interface Flyable {
    val maxSpeed: Int // 구현해야 할 추상 프로퍼티
    fun fly()         // 구현해야 할 추상 메소드
}

// Flyable 인터페이스를 구현하는 Bird 클래스
class Bird(override val maxSpeed: Int) : Flyable {
    override fun fly() {
        println("A bird is flying at a speed of $maxSpeed")
    }
}

fun main() {
    val bird = Bird(20)
    bird.fly() // 출력: A bird is flying at a speed of 20
}
```

## 2. 인터페이스의 Default Method

코틀린 인터페이스는 자바 8+처럼, 메소드에 기본 구현을 포함할 수 있습니다. 이를 **Default Method**라고 합니다.

-   인터페이스를 구현하는 클래스는 Default Method를 재정의할 수도 있고, 그대로 사용할 수도 있습니다.

```kotlin
interface Clickable {
    fun click() // 추상 메소드

    // 기본 구현을 가진 Default Method
    fun showOff() {
        println("I'm clickable!")
    }
}

class Button : Clickable {
    // click()은 반드시 재정의해야 함
    override fun click() {
        println("Button clicked!")
    }
    // showOff()는 재정의하지 않아도 기본 구현을 사용할 수 있음
}

fun main() {
    val button = Button()
    button.click()   // 출력: Button clicked!
    button.showOff() // 출력: I'm clickable!
}
```

## 3. 인터페이스 vs 추상 클래스

| 특징 | 인터페이스 (Interface) | 추상 클래스 (Abstract Class) |
| :--- | :--- | :--- |
| **목적** | 클래스가 **무엇을 할 수 있는지(capability)** 정의 | 클래스가 **무엇인지(identity)** 정의, 공통 특징 공유 |
| **상속/구현** | **여러 개** 구현 가능 | **단 하나**만 상속 가능 |
| **상태 저장** | **불가능** (백킹 필드 없음) | **가능** (프로퍼티에 상태 저장 가능) |
| **생성자** | **없음** | **있음** |

> [!TIP] 언제 무엇을 써야 할까?
> - **인터페이스**: 서로 관련 없는 클래스들에게 공통적인 기능(행동)을 부여하고 싶을 때 사용합니다. (예: `Flyable`, `Serializable`, `Comparable`)
> - **추상 클래스**: 서로 밀접하게 관련된 클래스들 사이에서 공통적인 상태나 구현을 공유하고 싶을 때 사용합니다. (예: `Animal` 클래스와 이를 상속받는 `Dog`, `Cat` 클래스)

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[18. 동반 객체.md|⬅️ 이전: 동반 객체]] | [[2. 복잡한 생성자.md|➡️ 다음: 복잡한 생성자]]