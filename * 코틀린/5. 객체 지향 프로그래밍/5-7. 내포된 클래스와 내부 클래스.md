---
tags: [Kotlin, 객체지향, 클래스, 내포된클래스, 내부클래스]
aliases: [Kotlin Nested Class, Kotlin Inner Class, 내포된 클래스, 내부 클래스]
---

# 코틀린 내포된 클래스와 내부 클래스

> [!INFO]
> 코틀린에서는 클래스 안에 또 다른 클래스를 정의할 수 있습니다. 이렇게 클래스 안에 정의된 클래스는 **내포된 클래스(Nested Class)**와 **내부 클래스(Inner Class)** 두 종류로 나뉩니다.

## 1. 내포된 클래스 (Nested Class)

-   **정의**: 다른 클래스 안에 `inner` 키워드 없이 선언된 클래스입니다.
-   **특징**:
    -   기본적으로 **`static`**처럼 동작합니다. 즉, 자신을 감싸는 바깥쪽 클래스(Outer Class)의 인스턴스와는 완전히 분리되어 있습니다.
    -   따라서, 바깥쪽 클래스의 인스턴스나 멤버(프로퍼티, 함수)에 직접 접근할 수 없습니다.

> [!TIP]
> 내포된 클래스는 단순히 두 클래스가 논리적으로 강하게 연관되어 있어, 코드 구조상 한 곳에 묶어두는 것이 관리하기 편할 때 사용합니다.

### 예제
```kotlin
class Outer {
    private val outerProperty = "Outer"

    class Nested {
        fun greet() {
            // println("Accessing outer property: $outerProperty") // 컴파일 오류!
            println("Hello from Nested Class")
        }
    }
}

fun main() {
    // 바깥쪽 클래스의 인스턴스 없이, Nested 클래스의 인스턴스를 직접 생성 가능
    val nested = Outer.Nested()
    nested.greet()
}
```

## 2. 내부 클래스 (Inner Class)

-   **정의**: `inner` 키워드를 붙여서 선언된 클래스입니다.
-   **특징**:
    -   내부 클래스는 자신을 감싸는 **바깥쪽 클래스의 인스턴스에 대한 참조**를 가집니다.
    -   따라서, 바깥쪽 클래스의 모든 멤버(심지어 `private` 멤버까지)에 직접 접근할 수 있습니다.

> [!IMPORTANT]
> 내부 클래스의 인스턴스를 생성하려면, 반드시 바깥쪽 클래스의 인스턴스가 먼저 존재해야 합니다.

### 예제
```kotlin
class Outer {
    private val outerProperty = "Hello from Outer"

    inner class Inner {
        fun greet() {
            // 바깥쪽 클래스의 private 멤버에 접근 가능
            println("Accessing outer property: $outerProperty")
        }
    }
}

fun main() {
    // 내부 클래스의 인스턴스는, 바깥쪽 클래스의 인스턴스를 통해 생성해야 함
    val outer = Outer()
    val inner = outer.Inner()

    inner.greet() // 출력: Accessing outer property: Hello from Outer
}
```

## 3. Nested Class vs Inner Class

| 특징 | 내포된 클래스 (Nested Class) | 내부 클래스 (Inner Class) |
| :--- | :--- | :--- |
| **키워드** | 없음 | `inner` |
| **바깥 클래스 참조** | **없음** (static처럼 동작) | **있음** |
| **바깥 클래스 멤버 접근** | **불가능** | **가능** |
| **인스턴스 생성** | `Outer.Nested()` | `Outer().Inner()` |
| **주 사용처** | 두 클래스를 논리적으로 그룹화할 때 | 바깥 클래스의 상태에 의존적인 로직을 캡슐화할 때 |

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[5-6. 봉인된 클래스.md|⬅️ 이전: 봉인된 클래스]] | [[5-8. 동반 객체.md|➡️ 다음: 동반 객체]]