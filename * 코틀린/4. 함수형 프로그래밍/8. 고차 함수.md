# 고차 함수 (Higher-Order Functions)
#Kotlin/Functional

> [!INFO] 고차 함수란?
> **고차 함수(Higher-Order Function)**는 다음 두 가지 조건 중 하나 이상을 만족하는 함수를 말합니다.
> 1.  다른 함수를 **인자(argument)**로 받는 함수
> 2.  함수를 **결과(return value)**로 반환하는 함수
>
> 코틀린에서는 함수가 일급 객체(First-class citizen)이므로, 이러한 고차 함수를 자연스럽게 사용할 수 있습니다. 이는 함수형 프로그래밍의 핵심적인 특징입니다.

## 1. 고차 함수의 기본 형태

### 함수를 인자로 받는 함수

가장 일반적인 형태의 고차 함수입니다. 특정 동작을 정의한 람다나 함수 참조를 인자로 받아, 내부 로직에서 해당 동작을 실행합니다.

```kotlin
// 'operation'이라는 이름의 함수를 파라미터로 받음
// operation의 타입은 (Int, Int) -> Int
fun calculate(a: Int, b: Int, operation: (Int, Int) -> Int): Int {
    // 전달받은 operation 함수를 호출하여 결과를 반환
    return operation(a, b)
}

fun main() {
    // 1. 람다를 인자로 전달
    val sum = calculate(10, 5) { x, y -> x + y }
    println(sum) // 출력: 15

    // 2. 함수 참조를 인자로 전달
    fun multiply(a: Int, b: Int) = a * b
    val product = calculate(10, 5, ::multiply)
    println(product) // 출력: 50
}
```

### 함수를 반환하는 함수

함수를 실행하면, 그 결과로 또 다른 함수를 반환할 수 있습니다. 이는 특정 상태나 설정을 '기억'하는 함수를 만드는 데 유용합니다.

```kotlin
// Int를 받아 (Int) -> Int 타입의 함수를 반환하는 함수
fun getMultiplier(factor: Int): (Int) -> Int {
    // 람다를 반환
    return { number -> number * factor }
}

fun main() {
    val double = getMultiplier(2) // 2를 곱하는 함수가 생성됨
    val triple = getMultiplier(3) // 3을 곱하는 함수가 생성됨

    println(double(10)) // 출력: 20
    println(triple(10)) // 출력: 30
}
```

## 2. 고차 함수의 대표적인 예: 컬렉션 API

코틀린 표준 라이브러리의 컬렉션 함수들은 대부분 고차 함수로 구현되어 있습니다. 이 함수들은 동작을 정의하는 람다를 인자로 받아 데이터를 처리합니다.

-   `filter`: 조건을 정의하는 람다를 받아, `true`를 반환하는 원소만 남깁니다.
-   `map`: 변환 규칙을 정의하는 람다를 받아, 각 원소를 새로운 값으로 매핑합니다.
-   `forEach`: 각 원소에 대해 수행할 동작을 정의하는 람다를 받습니다.

```kotlin
val numbers = listOf(1, 2, 3, 4, 5)

numbers
    .filter { it % 2 != 0 } // 홀수만 필터링: [1, 3, 5]
    .map { it * it }      // 각 원소를 제곱: [1, 9, 25]
    .forEach { println(it) } // 각 원소를 출력
```

## 3. 고차 함수의 장점

-   **추상화**: 반복적인 코드 패턴(예: 루프, 조건문)을 고차 함수 내부에 숨기고, 개발자는 '무엇을 할 것인가'에만 집중할 수 있습니다.
-   **재사용성**: 하나의 고차 함수를 다양한 람다와 조합하여 여러 가지 다른 동작을 만들어낼 수 있습니다.
-   **코드 간결성**: `for` 루프 등을 사용한 명령형 코드에 비해, 고차 함수와 람다를 사용하면 코드가 훨씬 간결하고 선언적으로 변합니다.

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[4. 멤버 참조.md|⬅️ 이전: 멤버 및 함수 참조]] | [[11. 시퀀스.md|➡️ 다음: 시퀀스]]