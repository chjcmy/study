# 컬렉션 처리 연산
#Kotlin/Functional #Kotlin/Collection

> [!INFO]
> 코틀린 표준 라이브러리는 `List`, `Set`, `Map`과 같은 컬렉션을 효율적으로 다루기 위한 풍부한 함수형 API를 제공합니다. 이러한 함수들은 람다와 결합하여, 데이터를 **선언적으로(Declarative)** 처리할 수 있게 해줍니다.

## 1. 변환 (Transformation)

### `map`
컬렉션의 각 원소를 주어진 람다에 따라 변환하여 **새로운 리스트**를 생성합니다.
```kotlin
val numbers = listOf(1, 2, 3)
val squares = numbers.map { it * it }
println(squares) // 출력: [1, 4, 9]
```

### `flatMap`
각 원소를 컬렉션으로 변환한 뒤, 이를 모두 펼쳐서(flatten) **하나의 리스트**로 만듭니다.
```kotlin
val nestedList = listOf(listOf(1, 2), listOf(3, 4))
val flatList = nestedList.flatMap { it }
println(flatList) // 출력: [1, 2, 3, 4]
```

## 2. 필터링 (Filtering)

### `filter`
주어진 람다(predicate)를 만족하는 원소들만 모아 새로운 리스트를 생성합니다.
```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
val evenNumbers = numbers.filter { it % 2 == 0 }
println(evenNumbers) // 출력: [2, 4]
```

### `take` / `drop`
-   **`take(n)`**: 앞에서부터 `n`개의 원소를 가져옵니다.
-   **`drop(n)`**: 앞에서부터 `n`개의 원소를 제외한 나머지를 가져옵니다.
```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
println(numbers.take(3)) // 출력: [1, 2, 3]
println(numbers.drop(3)) // 출력: [4, 5]
```

## 3. 검색 및 확인

### `find` (또는 `firstOrNull`)
조건을 만족하는 **첫 번째 원소**를 반환합니다. 없으면 `null`을 반환합니다.
```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
val firstEven = numbers.find { it % 2 == 0 }
println(firstEven) // 출력: 2
```

### `any` / `all` / `none`
-   **`any`**: 조건을 만족하는 원소가 **하나라도** 있으면 `true`를 반환합니다.
-   **`all`**: **모든** 원소가 조건을 만족하면 `true`를 반환합니다.
-   **`none`**: **모든** 원소가 조건을 만족하지 않으면 `true`를 반환합니다.
```kotlin
val numbers = listOf(1, 3, 5)
println(numbers.any { it % 2 == 0 })  // false (짝수가 하나도 없음)
println(numbers.all { it % 2 != 0 }) // true (모두 홀수임)
```

## 4. 집계 (Aggregation)

### `count` / `sum` / `average`
컬렉션의 원소 개수, 합계, 평균 등을 계산합니다.
```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
println(numbers.count())   // 5
println(numbers.sum())     // 15
println(numbers.average()) // 3.0
```

### `fold` / `reduce`
초기값을 기준으로 컬렉션의 모든 원소를 순회하며 하나의 결과로 축약합니다.
```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
val factorial = numbers.reduce { acc, num -> acc * num }
println(factorial) // 출력: 120 (5!)
```

## 5. 그룹화 및 정렬

### `groupBy`
주어진 람다의 결과를 키로 사용하여, 원소들을 그룹화한 `Map`을 생성합니다.
```kotlin
val words = listOf("apple", "banana", "apricot", "blueberry")
val groupedByFirstChar = words.groupBy { it.first() }
println(groupedByFirstChar) // 출력: {a=[apple, apricot], b=[banana, blueberry]}
```

### `sortedBy`
특정 값을 기준으로 원소들을 정렬합니다.
```kotlin
data class Person(val name: String, val age: Int)
val people = listOf(Person("Alice", 25), Person("Bob", 20))
val sortedByAge = people.sortedBy { it.age }
println(sortedByAge) // 출력: [Person(name=Bob, age=20), Person(name=Alice, age=25)]
```

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[1. 람다.md|⬅️ 이전: 람다]] | [[4. 멤버 참조.md|➡️ 다음: 멤버 참조]]