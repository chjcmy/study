# 코틀린의 생성자 (Constructor)
#Kotlin/ObjectOriented

> [!INFO] 생성자란?
> **생성자(Constructor)**는 클래스로부터 객체(인스턴스)를 생성할 때 호출되어, 객체의 프로퍼티를 초기화하는 역할을 하는 특별한 함수입니다.

코틀린은 간결한 객체 생성을 위해 **주 생성자(Primary Constructor)**와, 추가적인 초기화 로직을 위한 **보조 생성자(Secondary Constructor)** 및 **`init` 초기화 블록**을 제공합니다.

## 1. 주 생성자 (Primary Constructor)

> [!IMPORTANT]
> 주 생성자는 클래스를 정의하는 헤더 부분에 함께 선언되며, 객체 생성 및 프로퍼티 초기화를 위한 가장 기본적이고 간결한 방법입니다.

-   클래스 이름 뒤에 소괄호 `()`를 사용하여 정의합니다.
-   생성자 파라미터를 `val` 또는 `var`로 선언하면, 해당 파라미터는 즉시 클래스의 프로퍼티로 선언됩니다.

```kotlin
// name과 age를 파라미터로 받는 주 생성자 정의
// 이 파라미터들은 즉시 Person 클래스의 프로퍼티가 됨
class Person(val name: String, var age: Int)

fun main() {
    // 주 생성자를 호출하여 객체 생성
    val person = Person("Alice", 25)
    println("${person.name} is ${person.age} years old.") // 출력: Alice is 25 years old.
}
```

### `init` 초기화 블록

주 생성자는 코드를 가질 수 없기 때문에, 객체가 생성될 때 실행되어야 하는 추가적인 초기화 로직은 `init` 블록 안에 작성합니다.

```kotlin
class Person(val name: String) {
    // 주 생성자가 호출될 때 함께 실행됨
    init {
        println("A new person named $name is created.")
    }
}

fun main() {
    val person = Person("Bob") // 출력: A new person named Bob is created.
}
```

## 2. 보조 생성자 (Secondary Constructor)

> [!NOTE]
> 보조 생성자는 `constructor` 키워드를 사용하여 클래스 본문 내에 정의하며, 다양한 방법으로 객체를 생성할 수 있는 추가적인 경로를 제공합니다.

-   보조 생성자는 반드시 `this()`를 통해 다른 생성자(주 생성자 또는 다른 보조 생성자)를 호출해야 합니다.

```kotlin
class Circle {
    val radius: Double

    // 주 생성자 (파라미터 없음)
    constructor() {
        this.radius = 1.0 // 기본값으로 초기화
        println("Default circle created.")
    }

    // 보조 생성자
    // this()를 통해 주 생성자를 호출
    constructor(radius: Double) : this() {
        // this.radius = radius // 주 생성자에서 초기화되므로 여기서 재할당 불가
        println("Circle with radius $radius created.")
    }
}
```
> [!TIP]
> 주 생성자에서 파라미터에 기본값(Default Argument)을 제공할 수 있으므로, 여러 개의 보조 생성자를 만드는 것보다 주 생성자를 활용하는 것이 더 간결하고 권장되는 방식입니다.
> ```kotlin
> // 보조 생성자 대신 주 생성자에 기본값 사용
> class Robot(val model: String = "Generic", val year: Int = 2024)
> 
> val r1 = Robot() // model="Generic", year=2024
> val r2 = Robot("T-800") // model="T-800", year=2024
> ```

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[3. 프로퍼티.md|⬅️ 이전: 프로퍼티]] | [[5. 가시성 제한하기.md|➡️ 다음: 가시성 제한하기]]