# 코틀린의 맵 (Map)
#Kotlin/Collection

> [!INFO] 맵(Map)이란?
> **맵(Map)**은 코틀린의 기본 컬렉션 타입 중 하나로, **키(Key)와 값(Value)을 하나의 쌍(Pair)**으로 묶어 저장하는 데이터 구조입니다. 각 키는 고유해야 하며, 하나의 키는 하나의 값에만 매핑됩니다. '사전(Dictionary)'과 유사한 자료구조입니다.

맵은 특정 키를 통해 원하는 값을 빠르게 찾아야 할 때 매우 유용합니다.

## 1. 맵 생성

### 불변 맵 (`Map`)
`mapOf()` 함수를 사용하여 생성하며, 한 번 생성하면 내용을 변경할 수 없습니다.
```kotlin
val fruitPrices: Map<String, Int> = mapOf("Apple" to 1000, "Banana" to 1500)
```

### 가변 맵 (`MutableMap`)
`mutableMapOf()` 또는 `hashMapOf()` 함수를 사용하여 생성하며, 키-값 쌍을 추가, 수정, 삭제할 수 있습니다.
```kotlin
val userAges: MutableMap<String, Int> = mutableMapOf("Alice" to 30)
userAges["Bob"] = 25 // 추가 및 수정
userAges.remove("Bob") // 삭제
```

## 2. 맵의 기본 사용법

-   **값 접근**: 대괄호 `[]`를 사용합니다.
    ```kotlin
    println(fruitPrices["Apple"]) // 출력: 1000
    ```
-   **안전한 값 접근**: `getOrDefault()`를 사용합니다.
    ```kotlin
    println(fruitPrices.getOrDefault("Cherry", 0)) // 키가 없으면 기본값 0 반환
    ```
-   **키/값 목록 확인**: `keys`와 `values` 프로퍼티를 사용합니다.
    ```kotlin
    println(fruitPrices.keys)   // 출력: [Apple, Banana]
    println(fruitPrices.values) // 출력: [1000, 1500]
    ```
-   **키 포함 여부 확인**: `in` 키워드를 사용합니다.
    ```kotlin
    if ("Banana" in fruitPrices) { /* ... */ }
    ```

## 3. 맵 순회하기

`for` 루프에서 구조 분해 선언을 사용하면 맵의 모든 키-값 쌍을 쉽게 순회할 수 있습니다.
```kotlin
for ((key, value) in fruitPrices) {
    println("$key 의 가격은 $value 원입니다.")
}
```

## 4. 유용한 컬렉션 함수

### 값 또는 키 변환
-   **`mapValues`**: 각 원소의 **값**을 변환하여 새로운 맵을 만듭니다.
-   **`mapKeys`**: 각 원소의 **키**를 변환하여 새로운 맵을 만듭니다.
    ```kotlin
    val upperCaseKeys = fruitPrices.mapKeys { it.key.uppercase() }
    println(upperCaseKeys) // 출력: {APPLE=1000, BANANA=1500}
    ```

### 필터링
-   **`filter`**: 조건에 맞는 키-값 쌍만 골라 새로운 맵을 만듭니다.
    ```kotlin
    val cheapFruits = fruitPrices.filter { (key, value) -> value < 1200 }
    println(cheapFruits) // 출력: {Apple=1000}
    ```

### 리스트에서 맵 생성하기
-   **`associateWith`**: 리스트의 각 원소를 **키**로 사용하고, 주어진 람다의 결과를 **값**으로 하는 맵을 생성합니다.
    ```kotlin
    val fruits = listOf("Apple", "Banana")
    val fruitMap = fruits.associateWith { it.length }
    println(fruitMap) // 출력: {Apple=5, Banana=6}
    ```
-   **`groupBy`**: 주어진 람다의 결과를 **키**로 사용하여, 리스트의 원소들을 그룹화한 맵을 생성합니다.
    ```kotlin
    data class Person(val name: String, val city: String)
    val people = listOf(Person("Alice", "Seoul"), Person("Bob", "Busan"), Person("Charlie", "Seoul"))
    val peopleByCity = people.groupBy { it.city }
    println(peopleByCity) // 출력: {Seoul=[Person(name=Alice,...), Person(name=Charlie,...)], Busan=[Person(name=Bob,...)]}
    ```

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[13. 집합.md|⬅️ 이전: 집합]] | [[15. 프로퍼티 접근자.md|➡️ 다음: 프로퍼티 접근자]]