---
tags:
  - architecture
  - sequence_diagram
  - portal_handoff
  - bicep
date: 2026-02-20
completed: false
---

# π€ λ‹¨κ³„ 3: μλ™ λ°°ν¬ μ‹¤ν–‰ (Portal Handoff)

> [!info] λ¬Έμ„ κ°μ”
> κ³ κ°μ‚¬ κ΄€λ¦¬μκ°€ κµ¬λ… λ©λ΅ μ¤‘μ—μ„ νΉμ • κµ¬λ…μ„ ν”½(Pick)ν• ν›„, λ΅μ»¬ μ—μ΄μ „νΈ μΈν”„λΌμ¤νΈλ­μ²([[Azure Functions]])λ¥Ό μλ™ λ°°ν¬ν•λ” ν”„λ΅μ„Έμ¤μ…λ‹λ‹¤.

## β… κµ¬ν„ μ²΄ν¬λ¦¬μ¤νΈ

- [ ] ν”„λ΅ νΈμ—”λ“: ν†µμ‹  κ²°κ³Όλ΅ λ°›μ€ κµ¬λ… λ©λ΅ μ„ νƒ UI λ° [μ„¤μΉ] λ²„νΌ κµ¬ν„
- [ ] ν”„λ΅ νΈμ—”λ“: Bicep ν…ν”λ¦Ώ URL λ° Webhook νλΌλ―Έν„°λ¥Ό ν¬ν•¨ν•μ—¬, Azure Portal μ»¤μ¤ν…€ λ°°ν¬ νμ—…μ°½μ„ μ—¬λ” λ¦¬λ‹¤μ΄λ ‰νΈ URL μƒμ„± λ΅μ§ κµ¬ν„
- [ ] μΈν”„λΌ (IAC): κ³ κ°μ‚¬ κµ¬λ…μ— λ°°ν¬λ  λ΅μ»¬ μ—μ΄μ „νΈ(Function App, Managed Identity, RBAC λ“±)μ© Bicep ν…ν”λ¦Ώ μ‘μ„± μ™„λ£

## π”„ μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨ (λ¶€λ¶„)

> [!abstract] μ΄ λ‹¤μ΄μ–΄κ·Έλ¨μ€ **Portal Handoff** λ¨λΈμ„ μ΄μ©ν•μ—¬ Azure Portalλ΅ λ¦¬λ‹¤μ΄λ ‰νΈμ‹ν‚¤κ³  ν…ν”λ¦Ώ κ²€ν†  ν›„ μ‹¤μ  Bicepμ„ κ°€λ™ν•λ” λ΅μ§μ„ λ‹¤λ£Ήλ‹λ‹¤.

```mermaid
sequenceDiagram
    participant Teams as π› οΈ [κµ¬ν„-Front] React
    participant Agent as π› οΈ [κµ¬ν„-Infra] Agent
    participant Admin as πΆ [κ³ κ°μ‚¬] κ΄€λ¦¬μ
    participant ARM as πΆ [κ³ κ°μ‚¬] ARM API

    Note over Teams, ARM: [3λ‹¨κ³„: μλ™ λ°°ν¬ μ‹¤ν–‰ (Portal Handoff)]
    Admin->>Teams: νΉμ • κµ¬λ… μ„ νƒ ν›„ [μ„¤μΉ] ν΄λ¦­
    
    Note right of Teams: π› οΈ [ν”„λ΅ νΈ κµ¬ν„]: Bicep URL + Webhook νλΌλ―Έν„° μ°½ λ„μ°κΈ°
    Teams->>Admin: Azure Portal μ»¤μ¤ν…€ λ°°ν¬ ν™”λ©΄ λ¦¬λ‹¤μ΄λ ‰νΈ
    Admin->>ARM: Portalμ—μ„ ν…ν”λ¦Ώ κ²€ν†  ν›„ [λ§λ“¤κΈ°] ν΄λ¦­
    ARM-->>Agent: Function App λ¦¬μ†μ¤ μƒμ„±
```

## π“ μƒμ„Έ μ„¤λ…

1. **μµμ… μ„ νƒ λ° μ»¤μ¤ν…€ λ°°ν¬ λ·° μƒμ„±**:
   - πΆ **κ³ κ°μ‚¬ κ΄€λ¦¬μ**κ°€ π› οΈ **Teams νƒ­**μ—μ„ `μ„¤μΉ` λ²„νΌμ„ λ„λ¥΄λ©΄, ν”„λ΅ νΈμ—”λ“κ°€ Bicep ν…ν”λ¦Ώκ³Ό κ³ κ°μ‚¬ κµ¬λ… μ •λ³΄, κ·Έλ¦¬κ³  μ¶”ν›„ μ½λ°± λ°›μ„ Webhook νλΌλ―Έν„°λ¥Ό μΈμ½”λ”©ν•©λ‹λ‹¤.
   - μ΄ λ°μ΄ν„°λ“¤μ„ Query Parameter λ“±μ— λ‹΄μ•„ κ³µμ‹ Azure Portalμ "μ»¤μ¤ν…€ λ°°ν¬ νμ—…μ°½(ν…ν”λ¦Ώ λ°°ν¬ νμ΄μ§€)"μΌλ΅ μ‚¬μ©μλ¥Ό λ¦¬λ‹¤μ΄λ ‰νΈ μ‹ν‚µλ‹λ‹¤.

2. **Bicep ν…ν”λ¦Ώ μλ™ν™” (IaC)**:
   - πΆ **ARM API**λ” Bicep κΈ°λ° μΈν”„λΌμ¤νΈλ­μ² ν…ν”λ¦Ώμ— λ”°λΌ μ‹¤μ  π› οΈ **λ΅μ»¬ ν”λ«νΌ μ—μ΄μ „νΈ μΈν”„λΌ([[Azure Functions]], [[Managed Identity]])**λ¥Ό μλ™ κµ¬μ¶•ν•κ² λ©λ‹λ‹¤.
   - ΰ¦ΰ¦‡ κ³Όμ • μ¤‘, λ³΄μ• κ°•ν™”λ¥Ό μ„ν• RBAC Role μ—­μ‹ μ‹μ¤ν… μλ™ ν• λ‹Ή λ° λ¶€μ—¬λ©λ‹λ‹¤.
