# 르장드르의 세 제곱수 정리 (Legendre's Three-Square Theorem)

## 1. 개요
**르장드르의 세 제곱수 정리**는 자연수 $n$이 **3개 이하의 제곱수의 합**으로 표현될 수 있기 위한 조건을 제시합니다.

$$ n = a^2 + b^2 + c^2 $$

이 식이 성립하기 위한 필요충분조건은 $n$이 다음과 같은 꼴이 **아니어야** 한다는 것입니다.
$$ n = 4^a (8b + 7) $$
(단, $a, b$는 0 이상의 정수)

## 2. 왜 배워야 할까? (Why Learn?)
- **코딩 테스트**: "최소 제곱수 합의 개수"를 구하는 문제에서, 이 정리를 알면 **반복문이나 DP 없이 $O(1)$ 또는 $O(\log N)$** 만에 답이 4인지 3 이하인지 판별할 수 있습니다.
- **수리적 사고력**: 수의 비트 패턴($4^a$는 2진수에서 00이 반복되는 것, $8b+7$은 하위 3비트가 111인 것)과 정수론적 성질을 연결하는 사고력을 기를 수 있습니다.

## 3. 실생활 및 활용 분야 (Applications)
1.  **이론적 기반**: 이 정리는 라그랑주 네 제곱수 정리를 증명하는 핵심 도구로 사용됩니다.
2.  **암호학 및 정수론**:
    -   이타형식(Quadratic Forms) 연구의 기초가 되며, 이는 현대 암호학의 기반이 되는 타원 곡선 암호(ECC) 등의 수론적 배경지식이 됩니다.
    -   큰 수의 성질을 분석하는 알고리즘에서 수의 형태를 분류하는 기준으로 사용될 수 있습니다.
3.  **물리학 및 화학**:
    -   결정 구조(Crystal Structure) 분석이나 원자 에너지 준위 계산 등에서 정수론적 패턴(제곱수의 합)이 나타날 때, 가능한 상태의 수를 계산하는 데 도움을 줍니다.

## 4. 판별 로직 (파이썬)

```python
def is_four_squares_needed(n):
    # n을 4로 계속 나눔 (4^a 부분 제거)
    while n % 4 == 0:
        n //= 4
    
    # 8로 나눈 나머지가 7인지 확인 (2진수 끝자리가 111인지)
    if n % 8 == 7:
        return True # 3개 이하로 불가능 -> 4개 필요
    else:
        return False # 3개 이하로 가능 (1, 2, 3 중 하나)
```

> [!TIP] 관련 알고리즘
> - [동적 계획법](../동적%20계획법.md)
> - [라그랑주 네 제곱수 정리](라그랑주%20네%20제곱수%20정리.md)
