# 르장드르의 세 제곱수 정리 (Legendre's Three-Square Theorem)

## 1. 개요
**르장드르의 세 제곱수 정리**는 자연수 $n$이 **3개 이하의 제곱수의 합**으로 표현될 수 있기 위한 조건을 제시합니다.

$$ n = a^2 + b^2 + c^2 $$

이 식이 성립하기 위한 필요충분조건은 $n$이 다음과 같은 꼴이 **아니어야** 한다는 것입니다.
$$ n = 4^a (8b + 7) $$
(단, $a, b$는 0 이상의 정수)

## 2. 의미
즉, $n$을 $4$로 계속 나누었을 때 남은 값이 $8$로 나누어 나머지가 $7$이라면 ($n \pmod 8 = 7$), 그 수는 **3개 이하의 제곱수 합으로 표현할 수 없습니다.**
라그랑주 네 제곱수 정리에 의해 모든 수는 4개 이하로 표현 가능하므로, 이 경우 답은 무조건 **4**가 됩니다.

## 3. 활용
"최소 제곱수 합의 개수"를 구하는 문제에서 DP를 사용하지 않고도 $O(1)$ 또는 $O(\sqrt{N})$ 수준으로 빠르게 4인지 판별할 수 있게 해줍니다.

## 4. 판별 로직 (파이썬)

```python
def is_four_squares_needed(n):
    # n을 4로 계속 나눔 (4^a 부분 제거)
    while n % 4 == 0:
        n //= 4
    
    # 8로 나눈 나머지가 7인지 확인
    if n % 8 == 7:
        return True # 3개 이하로 불가능 -> 4개 필요
    else:
        return False # 3개 이하로 가능 (1, 2, 3 중 하나)
```

> [!TIP] 관련 알고리즘
> - [동적 계획법](../동적%20계획법.md)
> - [라그랑주 네 제곱수 정리](라그랑주%20네%20제곱수%20정리.md)
