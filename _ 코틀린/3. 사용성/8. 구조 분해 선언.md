# 구조 분해 선언
#Kotlin/Concept

> [!INFO] 구조 분해 선언이란?
> **구조 분해 선언(Destructuring Declaration)**은 객체가 가지고 있는 여러 프로퍼티를 각각의 개별 변수로 '분해'하여 한 번에 할당할 수 있게 해주는 간결한 문법입니다.

## 1. 구조 분해 선언의 기본

가장 대표적인 예는 `Pair`나 `Triple` 객체의 값을 분해하는 것입니다.

```kotlin
fun getCoordinates(): Pair<Int, Int> {
    return Pair(10, 20)
}

fun main() {
    // getCoordinates()가 반환한 Pair 객체를 x와 y 변수로 분해
    val (x, y) = getCoordinates()

    println("x: $x, y: $y") // 출력: x: 10, y: 20
}
```

## 2. 구조 분해 선언의 원리: `componentN()`

구조 분해 선언은 사실 **`componentN()`** 이라는 약속된 이름의 연산자 함수(operator function)를 순서대로 호출하는 문법적 설탕(syntactic sugar)입니다.

-   첫 번째 변수는 `component1()`을 호출합니다.
-   두 번째 변수는 `component2()`를 호출합니다.
-   ...

```kotlin
// 컴파일러는 아래와 같이 코드를 변환합니다.
val temp = getCoordinates()
val x = temp.component1()
val y = temp.component2()
```

## 3. 주요 활용 사례

### 데이터 클래스 (Data Class)

> [!IMPORTANT]
> **데이터 클래스**는 주 생성자에 선언된 프로퍼티에 대해 `componentN()` 함수를 **자동으로 생성**해 주므로, 구조 분해 선언을 즉시 사용할 수 있습니다.

```kotlin
data class User(val name: String, val age: Int)

val user = User("Alice", 25)
val (name, age) = user // val name = user.component1(), val age = user.component2()

println("Name: $name, Age: $age")
```

### 맵(Map) 순회

`for` 루프에서 맵의 각 `Entry`(키-값 쌍)를 구조 분해하여 키와 값을 바로 변수로 받을 수 있습니다.

```kotlin
val userAges = mapOf("Alice" to 30, "Bob" to 25)

for ((name, age) in userAges) {
    println("$name is $age years old.")
}
```

### 리스트(List)와 배열

리스트나 배열도 인덱스 순서에 따라 `componentN()`이 정의되어 있어 구조 분해가 가능합니다.

```kotlin
val numbers = listOf(10, 20, 30)
val (a, b, c) = numbers

println("$a, $b, $c") // 출력: 10, 20, 30
```

## 4. 필요 없는 값 무시하기 (`_`)

구조 분해 시 필요 없는 변수는 밑줄(`_`)을 사용하여 무시할 수 있습니다.

```kotlin
val (name, _, city) = Triple("Alice", 25, "Seoul")

println("Name: $name, City: $city") // 출력: Name: Alice, City: Seoul
```

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[7. HashMap과 HashSet.md|⬅️ 이전: HashMap과 HashSet]] | [[9. 널이 될 수 있는 타입.md|➡️ 다음: 널이 될 수 있는 타입]]