# 람다 (Lambda)
#Kotlin/Functional #Kotlin/Lambda

> [!INFO] 람다(Lambda)란?
> **람다(Lambda)**는 이름이 없는 **익명 함수(Anonymous Function)**입니다. 코틀린에서 람다는 일급 객체(First-class citizen)로 취급되므로, 변수에 저장하거나, 다른 함수의 인자로 전달하거나, 함수의 반환값으로 사용하는 등 값처럼 자유롭게 다룰 수 있습니다.
>
> 이는 코틀린의 함수형 프로그래밍 패러다임을 지탱하는 핵심적인 기능입니다.

## 1. 람다의 중요성

-   **코드 간결화**: 이름 없는 함수를 사용하여, 간단한 로직을 위해 불필요한 함수를 선언하는 과정을 생략할 수 있습니다.
-   **고차 함수와의 결합**: 함수를 인자로 받거나 반환하는 고차 함수와 함께 사용될 때, 동작을 코드 블록 형태로 직접 전달할 수 있어 매우 강력합니다.
-   **가독성 향상**: 특히 컬렉션 API와 함께 사용될 때, 데이터가 어떻게 흘러가고 변환되는지를 선언적으로 명확하게 보여줍니다.
-   **이벤트 처리**: UI 이벤트 리스너나 콜백을 간결하게 표현할 수 있습니다.

## 2. 람다의 기본 문법

람다는 항상 중괄호 `{}`로 감싸여 있으며, `->` 기호를 기준으로 왼쪽에는 파라미터를, 오른쪽에는 함수 본문을 정의합니다.

```kotlin
val sum: (Int, Int) -> Int = { a: Int, b: Int -> a + b }
//  |       타입 선언       |      |     람다 식      |
```

-   **타입 선언**: `(파라미터 타입들) -> 반환 타입` 형태로 람다의 타입을 명시합니다.
-   **람다 식**: `{ 파라미터 목록 -> 함수 본문 }` 형태로 실제 구현을 작성합니다. 함수 본문의 마지막 표현식이 람다의 반환값이 됩니다.

```kotlin
// 람다를 변수에 저장하고, 함수처럼 호출
val result = sum(3, 5)
println(result) // 출력: 8
```

## 3. 람다 문법의 간소화

코틀린 컴파일러는 타입 추론을 통해 람다를 더 간결하게 작성할 수 있도록 지원합니다.

### 타입 추론
변수에 람다의 타입을 명시했다면, 람다 식 내부의 파라미터 타입은 생략할 수 있습니다.
```kotlin
val multiply: (Int, Int) -> Int = { a, b -> a * b }
```

### 단일 파라미터와 `it`
람다의 파라미터가 **단 하나**일 경우, 파라미터 선언과 `->`를 생략하고, 해당 파라미터를 **`it`**이라는 이름으로 참조할 수 있습니다.

```kotlin
val square: (Int) -> Int = { it * it } 
println(square(5)) // 출력: 25
```

### 후행 람다 (Trailing Lambda)

코틀린에서는 함수의 **마지막 파라미터가 람다**일 경우, 함수 호출 시 람다를 괄호 `()` 밖으로 빼내어 작성할 수 있습니다. 이는 코드의 가독성을 크게 향상시킵니다.

```kotlin
fun calculate(a: Int, b: Int, operation: (Int, Int) -> Int): Int {
    return operation(a, b)
}

// 후행 람다를 사용하여 마지막 인자인 람다를 괄호 밖으로 빼냄
val sumResult = calculate(10, 5) { x, y -> x + y }
```

## 4. 람다와 컬렉션 API

코틀린의 컬렉션 API는 람다를 적극적으로 활용하여, 데이터를 선언적으로 처리할 수 있게 해줍니다.

```kotlin
val numbers = listOf(1, 2, 3, 4, 5)

// filter: 조건(람다)을 만족하는 원소만 골라 새로운 리스트 생성
val evenNumbers = numbers.filter { it % 2 == 0 } // { 2, 4 }

// map: 각 원소를 변환(람다)하여 새로운 리스트 생성
val squaredNumbers = numbers.map { it * it } // { 1, 4, 9, 16, 25 }

println(evenNumbers)
println(squaredNumbers)
```

> [!WARNING] 주의사항
> - **복잡한 로직 지양**: 람다는 간결한 작업에 적합하며, 여러 줄의 복잡한 로직은 가독성을 위해 일반 함수로 분리하는 것이 좋습니다.
> - **디버깅**: 익명 함수이므로 디버깅 시 호출 스택에서 이름이 명확히 드러나지 않아 추적이 다소 어려울 수 있습니다.

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[14. 재귀.md|⬅️ 이전: 재귀]] | [[3. 컬렉션에 대한 연산.md|➡️ 다음: 컬렉션에 대한 연산]]