---
tags: [Kotlin, 객체지향, 생성자]
aliases: [Kotlin Complex Constructor, 복잡한 생성자]
---

# 2. 복잡한 생성자

## 개요
이 문서는 코틀린의 복잡한 생성자 활용법에 대해 다룹니다. 코틀린의 주 생성자(Primary Constructor)는 간결하면서도 강력한 초기화 기능을 제공하며, 기본값, 여러 매개변수, 그리고 `init` 블록과의 조합을 통해 복잡한 객체 초기화 로직을 효과적으로 구현할 수 있습니다.

## 주 생성자의 다양한 활용

### 1. 기본값 지정
주 생성자의 매개변수에 기본값을 지정하여 유연한 객체 생성을 가능하게 합니다.
```kotlin
class Product(val name: String, val price: Double = 0.0, val quantity: Int = 1) {
    fun display() {
        println("제품: $name, 가격: $price, 수량: $quantity")
    }
}

fun main() {
    val item1 = Product("노트북", 1200.0, 2)
    val item2 = Product("키보드", 150.0) // quantity는 기본값 1 사용
    val item3 = Product("마우스") // price는 0.0, quantity는 1 사용

    item1.display()
    item2.display()
    item3.display()
}
```

### 2. 여러 매개변수와 가시성 변경
주 생성자는 여러 개의 매개변수를 가질 수 있으며, 이들의 가시성(public, private 등)을 지정할 수 있습니다.
```kotlin
class UserProfile(val username: String, private val email: String, var isActive: Boolean = true) {
    fun printUserInfo() {
        println("사용자명: $username, 활성 상태: $isActive")
        // println("이메일: $email") // private이므로 외부에서 직접 접근 불가
    }
}

fun main() {
    val user = UserProfile("kotlin_dev", "dev@example.com")
    user.printUserInfo()
    println("사용자명: ${user.username}")
    println("활성 상태: ${user.isActive}")
    // println("이메일: ${user.email}") // 컴파일 에러: email은 private
}
```

## 초기화 블록 (`init`)
주 생성자만으로는 복잡한 초기화 로직을 모두 처리하기 어려울 때 `init` 블록을 사용합니다. `init` 블록은 주 생성자의 본문으로 간주되며, 객체가 생성될 때 실행됩니다. 여러 개의 `init` 블록을 가질 수 있으며, 선언된 순서대로 실행됩니다.

```kotlin
class Customer(val name: String) {
    val customerId: String

    init {
        println("Customer 클래스의 첫 번째 init 블록 실행")
        customerId = generateCustomerId(name)
    }

    init {
        println("Customer 클래스의 두 번째 init 블록 실행")
        require(name.isNotBlank()) { "고객 이름은 비어 있을 수 없습니다." }
    }

    private fun generateCustomerId(name: String): String {
        return "CUST-${name.take(3).uppercase()}-${(0..999).random()}"
    }

    fun displayCustomerInfo() {
        println("고객 이름: $name, 고객 ID: $customerId")
    }
}

fun main() {
    val customer1 = Customer("Alice")
    customer1.displayCustomerInfo()

    // val customer2 = Customer("") // IllegalArgumentException 발생
}
```

## 주요 내용
- 코틀린 주 생성자의 기본값 지정
- 여러 매개변수와 가시성 제어를 통한 생성자 활용
- `init` 블록을 사용한 복잡한 초기화 로직 구현
- 코드 예제를 통한 이해

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[5-9. 클래스 위임.md|⬅️ 이전: 클래스 위임]] | [[5-11. 부생성자.md|➡️ 다음: 부생성자]]
