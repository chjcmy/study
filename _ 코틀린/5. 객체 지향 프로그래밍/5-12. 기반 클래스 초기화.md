---
tags: [Kotlin, 객체지향, 초기화, 상속]
aliases: [Kotlin Base Class Initialization, 기반 클래스 초기화]
---

# 5. 기반 클래스 초기화

## 개요
이 문서는 코틀린에서 상속 관계에 있는 클래스들이 어떻게 초기화되는지, 특히 자식 클래스가 부모 클래스(기반 클래스)의 생성자를 어떻게 호출하고 초기화 과정을 제어하는지에 대해 설명합니다. 올바른 초기화는 객체의 상태를 일관성 있게 유지하는 데 중요합니다.

## 기반 클래스 초기화란?
자식 클래스가 부모 클래스를 상속받을 때, 자식 클래스의 인스턴스가 생성되기 전에 부모 클래스의 인스턴스가 먼저 초기화되어야 합니다. 코틀린에서는 이 과정을 명시적으로 제어하며, 주 생성자 또는 부 생성자를 통해 기반 클래스를 초기화할 수 있습니다.

## 주 생성자를 통한 초기화
가장 일반적인 방법으로, 자식 클래스의 주 생성자에서 부모 클래스의 주 생성자를 직접 호출하여 초기화합니다.

```kotlin
open class Base(val name: String) {
    init {
        println("Base 클래스 초기화: $name")
    }
}

class Derived(name: String, val age: Int) : Base(name) { // Base 클래스의 주 생성자 호출
    init {
        println("Derived 클래스 초기화: $name, $age")
    }
}

fun main() {
    val derived = Derived("Alice", 30)
    // 출력:
    // Base 클래스 초기화: Alice
    // Derived 클래스 초기화: Alice, 30
}
```

## 부 생성자를 통한 초기화
자식 클래스가 부 생성자를 가지고 있다면, 해당 부 생성자는 `super()` 키워드를 사용하여 부모 클래스의 생성자를 호출해야 합니다. 만약 자식 클래스에 주 생성자가 있다면, 부 생성자는 주 생성자에 위임하고, 주 생성자가 다시 부모 생성자에 위임하는 형태가 됩니다.

```kotlin
open class BaseWithSecondary(val id: String) {
    init {
        println("BaseWithSecondary 클래스 초기화: $id")
    }
    constructor(id: String, type: String) : this(id) {
        println("BaseWithSecondary 부 생성자 호출: $id, $type")
    }
}

class DerivedWithSecondary : BaseWithSecondary {
    val data: String

    constructor(id: String, data: String) : super(id) { // BaseWithSecondary의 주 생성자 호출
        this.data = data
        println("DerivedWithSecondary 부 생성자 호출: $id, $data")
    }

    constructor(id: String, data: String, type: String) : super(id, type) { // BaseWithSecondary의 부 생성자 호출
        this.data = data
        println("DerivedWithSecondary 부 생성자 호출 (with type): $id, $data, $type")
    }
}

fun main() {
    val d1 = DerivedWithSecondary("d1", "Data A")
    // 출력:
    // BaseWithSecondary 클래스 초기화: d1
    // DerivedWithSecondary 부 생성자 호출: d1, Data A

    val d2 = DerivedWithSecondary("d2", "Data B", "Type X")
    // 출력:
    // BaseWithSecondary 클래스 초기화: d2
    // BaseWithSecondary 부 생성자 호출: d2, Type X
    // DerivedWithSecondary 부 생성자 호출 (with type): d2, Data B, Type X
}
```

## 초기화 순서
클래스 계층 구조에서 초기화는 항상 부모 클래스부터 자식 클래스 순으로 진행됩니다.
1.  부모 클래스의 주 생성자 실행
2.  부모 클래스의 `init` 블록 실행
3.  자식 클래스의 주 생성자 실행 (있는 경우)
4.  자식 클래스의 `init` 블록 실행
5.  자식 클래스의 부 생성자 본문 실행 (부 생성자가 주 생성자에 위임하는 경우)

## 주요 내용
- 코틀린에서 기반 클래스(부모 클래스)를 초기화하는 방법
- 주 생성자와 부 생성자를 통한 초기화 과정
- 상속 계층에서의 정확한 초기화 순서
- 코드 예제를 통한 기반 클래스 초기화 이해

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[5-11. 부생성자.md|⬅️ 이전: 부생성자]] | [[5-1. 상속과 확장.md|➡️ 다음: 상속과 확장]]
