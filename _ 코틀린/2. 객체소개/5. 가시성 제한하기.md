# 가시성 제한자 (Visibility Modifiers)
#Kotlin/ObjectOriented

> [!INFO] 가시성 제한자란?
> **가시성 제한자(Visibility Modifiers)**는 클래스, 프로퍼티, 함수 등 코드 요소의 **접근 범위를 제어**하는 키워드입니다. 이를 통해 외부로부터 불필요한 내부 구현을 숨기는 **정보 은닉(Information Hiding)**을 구현하고, 코드의 안정성과 캡슐화를 높일 수 있습니다.

코틀린은 네 가지의 가시성 제한자를 제공합니다.

## 1. 가시성 제한자의 종류

| 제한자 | 설명 | 접근 가능 범위 |
| :--- | :--- | :--- |
| `public` | **(기본값)** 어디서든 접근 가능 | 프로젝트 전체 |
| `internal` | 같은 **모듈** 내에서만 접근 가능 | 모듈 내부 |
| `protected` | 선언된 클래스와 그 **하위 클래스**에서만 접근 가능 | 클래스 + 하위 클래스 |
| `private` | 선언된 **클래스 내부** 또는 **파일 내부**에서만 접근 가능 | 클래스 또는 파일 내부 |

### 클래스 멤버의 가시성

```kotlin
open class Parent {
    public val a = 1    // public은 기본값이므로 생략 가능
    internal val b = 2  // 같은 모듈 내에서 접근 가능
    protected val c = 3 // 이 클래스와 하위 클래스에서만 접근 가능
    private val d = 4   // 이 클래스 내부에서만 접근 가능
}

class Child : Parent() {
    fun test() {
        println(a) // OK
        println(b) // OK
        println(c) // OK (하위 클래스이므로 protected 멤버에 접근 가능)
        // println(d) // 오류! private 멤버에는 접근 불가
    }
}
```

### 최상위 선언의 가시성

클래스 밖, 파일의 최상단에 선언된 함수나 프로퍼티에도 가시성을 지정할 수 있습니다. (`protected`는 사용 불가)

```kotlin
// MyFile.kt
package com.example

fun publicFun() { ... }     // 어디서든 접근 가능
internal fun internalFun() { ... } // 이 모듈 내에서만 접근 가능
private fun privateFun() { ... }   // 이 파일(MyFile.kt) 내에서만 접근 가능
```

## 2. 가시성 제한자의 활용

### 캡슐화 (Encapsulation)

> [!TIP]
> 객체의 내부 상태(프로퍼티)는 `private`으로 숨기고, 외부에는 상태를 조작할 수 있는 `public` 메소드만 노출하여 데이터의 무결성을 보장하는 객체 지향의 핵심 원칙입니다.

```kotlin
class BankAccount {
    var balance: Double = 0.0
        private set // balance 프로퍼티의 setter만 private으로 만들어 외부에서의 수정을 막음

    fun deposit(amount: Double) {
        if (amount > 0) {
            balance += amount // 내부에서는 수정 가능
        }
    }

    fun withdraw(amount: Double) {
        if (amount > 0 && balance >= amount) {
            balance -= amount
        }
    }
}
```

### 모듈 API 설계

`internal` 제한자는 라이브러리나 멀티모듈 프로젝트에서 매우 유용합니다.

-   **`public`**: 라이브러리 사용자가 호출할 수 있도록 외부에 공개할 API
-   **`internal`**: 라이브러리 모듈 내부에서만 사용되는 구현 로직

이를 통해 외부에는 깔끔한 API만 노출하고, 복잡한 내부 구현은 숨겨서 모듈 간의 의존성을 낮추고 유지보수성을 높일 수 있습니다.

---
> [[00. 코틀린 목차.md|⬆️ 목차로 돌아가기]]
> [[4. 생성자.md|⬅️ 이전: 생성자]] | [[6. 모듈.md|➡️ 다음: 모듈]]