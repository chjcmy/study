# DBSCAN 및 HDBSCAN 클러스터링 정리

## DBSCAN (Density-Based Spatial Clustering of Applications with Noise)

### 핵심 정의
DBSCAN은 **사용자가 제공한 밀도 값**으로 클러스터를 생성하는 **밀도 기반 공간 클러스터링 [[알고리즘]]**입니다. 상대적으로 밀도가 높은 연결 영역을 식별합니다.

### 특징
- **모든 모양, 크기, 밀도**의 클러스터 검색 가능
- 데이터 포인트와 **노이즈를 구분**할 수 있음
- 클러스터 수를 사전에 지정할 필요 없음
- **비반복적(Non-iterative)**: 한 번에 클러스터 확장

### 중심 기반 vs 밀도 기반
- **중심 기반 ([[K-Means]])**: 구형/볼록 모양만 생성, 이상값도 강제로 클러스터에 할당
- **[[밀도 기반]] (DBSCAN)**: 임의의 모양 처리 가능, 노이즈와 이상값 식별

### DBSCAN 작동 방식

#### 파라미터
1.  **n (MinPts)**: 이웃에 원하는 최소 포인트 수
2.  **ε (epsilon)**: 각 이웃의 반경

#### 포인트 유형
1.  **코어 포인트(Core Point)**: 반경 ε 내에 자신을 포함하여 n개 이상의 점. 클러스터의 초점.
2.  **경계 포인트(Border Point)**: 코어 포인트 주변에 속하지만 코어 포인트가 될 만큼 이웃이 충분하지 않음. 관련 코어 포인트와 동일한 클러스터에 할당.
3.  **노이즈 포인트(Noise Point)**: 모든 코어 포인트 이웃과 격리됨. 클러스터에 할당되지 않음.

#### 클러스터 생성 과정
1.  코어 포인트에서 클러스터 성장 시작
2.  인접 요소 포함하여 확장
3.  경계 포인트 할당 (조밀하게 연결되지는 않음)
4.  할당되지 않은 포인트는 노이즈로 간주

## HDBSCAN (Hierarchical DBSCAN)

### 핵심 개선점
-   **파라미터 자동화**: 파라미터 설정 불필요 → 원본보다 훨씬 유연
-   **노이즈 강건성**: 노이즈와 이상값에 덜 민감
-   **적응형 밀도**: 로컬 밀도 변화를 반영하여 이웃 크기를 적응적으로 조정

### 클러스터 안정성(Cluster Stability)
-   **정의**: 적당한 반경 범위 내에서 주변 크기를 조정해도 클러스터가 크게 변하지 않는 특성
-   **작동**: 클러스터 안정성을 측정하여 국부적으로 최적의 주변 반경 발견
-   **결과**: 더 강력하고 의미 있는 클러스터 생성

### HDBSCAN 작동 방식

#### 알고리즘 단계
1.  각 점을 고유한 클러스터(노이즈)로 식별
2.  밀도 임계값을 점진적으로 낮춤
3.  클러스터를 [[계층적]] 구조로 점진적으로 통합
4.  계층적 트리 구성
5.  다양한 밀도 수준에서 가장 안정적인 클러스터만 유지하는 압축된 트리로 단순화

### 특성
응집 기반 클러스터링과 밀도 기반 클러스터링의 **조합**

## 실전 예시: 캐나다 박물관 데이터
-   **DBSCAN 결과**: 약 10개 클러스터 발견. 인구 밀도가 높은 지역 대부분이 단일 클러스터로 묶이는 한계.
-   **HDBSCAN 결과**: DBSCAN보다 더 많은 별개 클러스터 식별. 다양한 밀도의 더 큰 연결 영역 발견. 곡선의 연결된 점 집합 추적 및 구별. 밀도가 높은 지역에서 적응형 세부 정보 제공. 더 일관되고 덜 시끄러운 결과.

## DBSCAN vs HDBSCAN 비교

| 구분 | DBSCAN | HDBSCAN |
|------|--------|---------|
| **파라미터** | n, ε 수동 설정 필요 | 자동화 (설정 불필요) |
| **밀도 적응** | 고정 밀도 | 적응형 밀도 |
| **노이즈 민감도** | 민감 | 덜 민감 |
| **클러스터 품질** | 양호 | 더 강력하고 의미 있음 |
| **복잡도** | 단순 | 복잡 (계층적) |
| **적용성** | 균일 밀도 | 다양한 밀도 |

## 장점

**DBSCAN**:
-   임의의 모양 클러스터 발견
-   노이즈와 이상값 처리
-   클러스터 수 사전 지정 불필요
-   비반복적 → 효율적

**HDBSCAN**:
-   DBSCAN의 모든 장점 + 파라미터 자동화
-   다양한 밀도 수준 처리
-   더 강건한 결과

## 단점

**DBSCAN**:
-   파라미터 선택이 결과에 큰 영향
-   균일하지 않은 밀도에서 성능 저하

**HDBSCAN**:
-   구현이 복잡
-   계산 비용이 더 높음

## 핵심 요약
-   DBSCAN은 **밀도 기반**으로 임의 모양 클러스터 발견
-   **코어, 경계, 노이즈** 포인트로 분류
-   HDBSCAN은 **파라미터 자동화** + **적응형 밀도** 제공
-   **클러스터 안정성**을 사용하여 최적 클러스터 선택
-   노이즈와 이상값이 많은 데이터에 효과적
-   실제 데이터의 복잡한 패턴(모양 내 모양, 임의의 모양) 처리 가능
